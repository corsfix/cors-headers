---
import Layout from "../layouts/Layout.astro";
import Article, { type HeaderData } from "../components/Article.astro";

const headerData: HeaderData = {
  name: "Origin",
  slug: "origin",
  description: `The Origin header indicates the origin (scheme, hostname, and port) that initiated the request.<br/><br/>
Browsers automatically set this header on cross-origin requests and certain same-origin requests (POST, PUT, DELETE). Servers use it to validate requests and determine which CORS headers to return.`,
  syntax: {
    code: `Origin: <origin>
Origin: null`,
    description:
      "The Origin header is automatically set by the browser and contains the origin value (e.g., `https://example.com`) indicating where the request originated from. It can also have the value `null` for requests from local files (`file://`), sandboxed iframes, or certain privacy contexts.",
  },
  examples: [
    {
      title: "Cross-origin request from a website",
      description:
        "The browser automatically sets the Origin header when making a cross-origin request from `https://example.com`.",
      code: `Origin: https://example.com`,
    },
    {
      title: "Null origin from local file or sandboxed iframe",
      description:
        "The Origin header is set to `null` for requests from local files (`file://`), sandboxed iframes, or certain privacy contexts.",
      code: `Origin: null`,
    },
  ],
  errors: [
    {
      msg: "Origin header missing or doesn't match server expectations",
      fix: "Ensure your server validates the Origin header against an allowlist of trusted domains. Set Access-Control-Allow-Origin to the specific origin or configure your CORS middleware correctly.",
    },
  ],
  faq: [
    {
      q: "Do I need to set the Origin header manually?",
      a: "No, browsers automatically set the Origin header. You cannot manually override it in client-side JavaScript for security reasons.",
    },
    {
      q: "What does 'Origin: null' mean?",
      a: "This appears for requests from local files (file://), sandboxed iframes, or certain privacy contexts. Handle with caution as it can have security implications.",
    },
  ],
};
---

<Layout
  title={`${headerData.name} | CORS Headers Explained`}
  description={headerData.description}
>
  <Article data={headerData} />
</Layout>
