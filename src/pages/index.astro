---
import Layout from "../layouts/Layout.astro";
import Card from "../components/ui/Card.astro";
import CardContent from "../components/ui/CardContent.astro";
import Button from "../components/ui/Button.astro";
import ChevronRight from "../components/icons/ChevronRight.astro";
import CtaBanner from "../components/CtaBanner.astro";
import Footer from "../components/Footer.astro";

// Central data â†’ add / edit headers here
const headerCards = [
  {
    name: "Access-Control-Allow-Origin",
    slug: "access-control-allow-origin",
    blurb: "Define which origins are allowed to access cross-origin resources.",
  },
  {
    name: "Access-Control-Allow-Credentials",
    slug: "access-control-allow-credentials",
    blurb:
      "Determine if credentials (cookies, authentication headers) can be included.",
  },
  {
    name: "Access-Control-Allow-Headers",
    slug: "access-control-allow-headers",
    blurb: "Specify which headers clients can use in cross-origin requests.",
  },
  {
    name: "Access-Control-Allow-Methods",
    slug: "access-control-allow-methods",
    blurb: "Specify which HTTP methods are allowed in cross-origin requests.",
  },
  {
    name: "Access-Control-Expose-Headers",
    slug: "access-control-expose-headers",
    blurb:
      "Enable client-side JavaScript to read non-standard response headers.",
  },
  {
    name: "Access-Control-Max-Age",
    slug: "access-control-max-age",
    blurb: "Reduce latency by caching preflight results for faster requests.",
  },
  {
    name: "Access-Control-Request-Headers",
    slug: "access-control-request-headers",
    blurb:
      "Lists the headers the client intends to send with the actual request.",
  },
  {
    name: "Access-Control-Request-Method",
    slug: "access-control-request-method",
    blurb:
      "Specifies the HTTP method the client plans to use in the actual request.",
  },
  {
    name: "Origin",
    slug: "origin",
    blurb:
      "Indicates where the request originated from (scheme, hostname, port).",
  },
];
---

<Layout
  title="CORS Headers Explained"
  description="All-in-one resource for understanding CORS headers, including usage, common errors and code examples."
>
  <main class="text-black font-sans pt-20 pb-32 px-4 sm:px-6 lg:px-8">
    {/* Hero */}
    <header class="max-w-5xl mx-auto text-center mb-20">
      <h1
        class="text-5xl sm:text-6xl font-extrabold leading-tight inline-block px-2 py-1 bg-yellow-300 border-4 border-black shadow-[6px_6px_0px_0px_#000]"
      >
        CORS Headers Explained
      </h1>
      <p class="mt-6 max-w-3xl mx-auto text-lg sm:text-xl font-medium">
        All-in-one resource for understanding CORS headers, including usage,
        common errors and code examples. Perfect for web developers and API
        makers.
      </p>
    </header>

    {/* Header Grid */}
    <section class="max-w-7xl mx-auto">
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">
        {
          headerCards.map(({ name, slug, blurb }, i) => (
            <a href={`/${slug}`}>
              <Card class="shadow-[6px_6px_0px_0px_#000] hover:-translate-y-1  transition-transform duration-150">
                <CardContent>
                  <h3 class="text-xl font-bold">{name}</h3>
                  <p class="text-sm leading-relaxed">{blurb}</p>
                  <div class="flex items-center pt-2 font-semibold">
                    <span class="mr-1 text-sm">Read more</span>
                    <ChevronRight />
                  </div>
                </CardContent>
              </Card>
            </a>
          ))
        }
      </div>
    </section>

    {/* Usage Scenarios */}
    <section class="max-w-5xl mx-auto mt-24 space-y-10">
      <h2
        class="text-3xl font-extrabold inline-block px-2 py-1 bg-pink-300 border-2 border-black shadow-[4px_4px_0px_0px_#000]"
      >
        When do these headers matter?
      </h2>
      <div class="grid gap-6 md:grid-cols-2">
        <Card class="shadow-[4px_4px_0px_0px_#000]">
          <CardContent class="space-y-2">
            <h3 class="font-bold">For Web Developers</h3>
            <p class="text-sm leading-relaxed">
              Understand CORS to troubleshoot and fix issues when your frontend
              application interacts with APIs on different origins.
            </p>
          </CardContent>
        </Card>
        <Card class="shadow-[4px_4px_0px_0px_#000]">
          <CardContent class="space-y-2">
            <h3 class="font-bold">For API Makers</h3>
            <p class="text-sm leading-relaxed">
              Learn how to configure CORS headers to securely enable client-side
              access to your API from various origins.
            </p>
          </CardContent>
        </Card>
      </div>
    </section>

    {/* Tools */}
    <section class="max-w-7xl mx-auto mt-32 space-y-10">
      <h2
        class="text-3xl font-extrabold inline-block px-2 py-1 bg-sky-300 border-2 border-black shadow-[4px_4px_0px_0px_#000]"
      >
        Explore More Tools
      </h2>
      <div class="grid gap-6 lg:grid-cols-2">
        <div
          class="bg-white border-4 border-black rounded-lg shadow-[8px_8px_0px_0px_#000] p-8 space-y-4"
        >
          <h2 class="text-2xl font-extrabold">CORS Tester</h2>
          <p class="max-w-md text-base leading-relaxed">
            Paste any API endpoint and instantly see if it supports CORS and
            which headers it returns.
          </p>
          <Button
            href="https://corsfix.com/tools/cors-tester"
            variant="default"
            target="_blank"
          >
            Try the tester
          </Button>
        </div>
        <div
          class="bg-white border-4 border-black rounded-lg shadow-[8px_8px_0px_0px_#000] p-8 space-y-4"
        >
          <h2 class="text-2xl font-extrabold">CORS Proxy Playground</h2>
          <p class="max-w-md text-base leading-relaxed">
            Bypass CORS errors in your web app by routing your requests through
            our CORS proxy.
          </p>
          <Button
            href="https://app.corsfix.com/playground"
            variant="secondary"
            target="_blank"
          >
            Open playground
          </Button>
        </div>
      </div>
    </section>
  </main>
  <CtaBanner />
  <Footer />
</Layout>
