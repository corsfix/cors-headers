---
import Layout from "../layouts/Layout.astro";
import Article, { type HeaderData } from "../components/Article.astro";

const headerData: HeaderData = {
  name: "Access-Control-Expose-Headers",
  slug: "access-control-expose-headers",
  description:
    "The Access-Control-Expose-Headers header specifies which response headers can be accessed by client-side JavaScript in cross-origin requests. In cross-origin requests, by default, browsers only expose certain headers to client JavaScript, which are CORS-safelisted headers. In order for client JavaScript to read other headers, they must be explicitly set via the Access-Control-Expose-Headers (ACEH) header. This header lets client JS read **non-safelisted response headers**.",
  syntax: {
    code: `Access-Control-Expose-Headers: <header>
Access-Control-Expose-Headers: <header>, <header>, ...
Access-Control-Expose-Headers: *`,
    description: "The Access-Control-Expose-Headers header accepts one or more response header names (e.g., `X-Total-Count` or `X-Total-Count, X-RateLimit-Remaining`) to specify which headers can be accessed by client-side JavaScript. Additionally, the wildcard `*` can be used to expose all non-safelisted headers.",
  },
  examples: [
    {
      title: "Exposing a single custom header",
      description: "Makes the `X-Total-Count` response header accessible to client-side JavaScript.",
      code: `Access-Control-Expose-Headers: X-Total-Count`,
    },
    {
      title: "Exposing multiple headers",
      description: "Makes multiple custom headers like `X-Total-Count` and `X-RateLimit-Remaining` accessible to client-side JavaScript. Headers are comma-separated.",
      code: `Access-Control-Expose-Headers: X-Total-Count, X-RateLimit-Remaining`,
    },
    {
      title: "Exposing all non-safelisted headers",
      description: "Makes all non-safelisted response headers accessible to client-side JavaScript.",
      code: `Access-Control-Expose-Headers: *`,
    },
  ],
  errors: [
    {
      msg: "Header X can't be read by client JavaScript.",
      fix: "Expose the header X by adding its name to the Access-Control-Expose-Headers response header from the server. For example: `Access-Control-Expose-Headers: X`.",
    },
  ],
  faq: [
    {
      q: "Can I expose all headers?",
      a: "Yes, you can use the asterisk (`*`) as a wildcard to expose all non-safelisted headers.",
    },
    {
      q: "Can it contain multiple header names?",
      a: "Yes, you can list multiple header names, separated by commas. For example: `Access-Control-Expose-Headers: Content-Length, X-My-Custom-Header`.",
    },
    {
      q: "Is the Access-Control-Expose-Headers value case-sensitive?",
      a: "No, HTTP header names are generally case-insensitive. So, `X-Custom-Header` is treated the same as `x-custom-header` when listed in ACEH.",
    },
  ],
};
---

<Layout
  title={`${headerData.name} | CORS Headers Explained`}
  description={headerData.description}
>
  <Article data={headerData} />
</Layout>
