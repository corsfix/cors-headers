---
import Layout from "../layouts/Layout.astro";
import Article, { type HeaderData } from "../components/Article.astro";

const headerData: HeaderData = {
  name: "Access-Control-Request-Method",
  slug: "access-control-request-method",
  description:
    "The Access-Control-Request-Method header is automatically sent by the browser during preflight requests. It tells the server which HTTP method will be used for the actual request, allowing the server to approve or deny it.",
  syntax: {
    code: `Access-Control-Request-Method: <method>`,
    description: "The Access-Control-Request-Method header is automatically set by the browser during preflight requests. It contains the HTTP method (e.g., `PUT` or `DELETE`) that will be used in the actual cross-origin request.",
  },
  examples: [
    {
      title: "Preflight for PUT request",
      description: "When a request uses the `PUT` method, the browser automatically sends this header in the preflight request to inform the server which method will be used.",
      code: `Access-Control-Request-Method: PUT`,
    },
    {
      title: "Preflight for DELETE request",
      description: "When a request uses the `DELETE` method, the browser automatically sends this header in the preflight request.",
      code: `Access-Control-Request-Method: DELETE`,
    },
  ],
  errors: [],
  faq: [
    {
      q: "Do I need to set this header manually?",
      a: "No, the browser automatically sends this header during preflight requests based on the method in your actual request.",
    },
    {
      q: "When is this header sent?",
      a: "During preflight requests when your request uses a non-simple method (anything other than GET, HEAD, or POST) or meets other CORS preflight conditions.",
    },
  ],
};
---

<Layout
  title={`${headerData.name} | CORS Headers Explained`}
  description={headerData.description}
>
  <Article data={headerData} />
</Layout>
