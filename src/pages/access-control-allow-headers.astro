---
import Layout from "../layouts/Layout.astro";
import Article, { type HeaderData } from "../components/Article.astro";

const headerData: HeaderData = {
  name: "Access-Control-Allow-Headers",
  slug: "access-control-allow-headers",
  description:
    "The Access-Control-Allow-Headers (ACAH) header specifies which headers can be used in the actual cross-origin request. This header is part of the preflight request mechanism. When you send a cross-origin request with non-safelisted headers, the browser will make a preflight request to see if the actual request can be sent. To allow the request, the server must respond with the appropriate `Access-Control-Allow-Headers` containing the allowed headers.",
  syntax: {
    code: `Access-Control-Allow-Headers: <header>
Access-Control-Allow-Headers: <header>, <header>, ...
Access-Control-Allow-Headers: *`,
    description: "The Access-Control-Allow-Headers header accepts one or more header names (e.g., `X-Custom-Header` or `Content-Type, Authorization`) to specify which headers are allowed in the actual request. Additionally, the wildcard `*` can be used to allow all headers.",
  },
  examples: [
    {
      title: "Allowing a single custom header",
      description: "Permits the `X-API-Key` header to be used in the actual cross-origin request.",
      code: `Access-Control-Allow-Headers: X-API-Key`,
    },
    {
      title: "Allowing multiple headers",
      description: "Permits multiple headers such as `Content-Type` and `Authorization` to be used in the actual request. Headers are comma-separated.",
      code: `Access-Control-Allow-Headers: Content-Type, Authorization`,
    },
    {
      title: "Allowing all headers",
      description: "Permits any header to be used in the actual request. This is convenient but less secure than explicitly listing allowed headers.",
      code: `Access-Control-Allow-Headers: *`,
    },
  ],
  errors: [
    {
      msg: "Missing token (e.g., 'xyz') in the CORS `Access-Control-Allow-Headers` header.",
      fix: "Ensure the server's response includes the required header token in the `Access-Control-Allow-Headers` value.",
    },
  ],
  faq: [
    {
      q: "Is the `Access-Control-Allow-Headers` (ACAH) header needed on the actual resource response?",
      a: "No. Only the **preflight** response needs it.",
    },
    {
      q: "Is the Access-Control-Allow-Headers header case-sensitive?",
      a: "No, HTTP header names are generally case-insensitive. However, the values (the header names listed) might be case-sensitive depending on the server-side implementation, though the specification implies they should be treated case-insensitively.",
    },
  ],
};
---

<Layout
  title={`${headerData.name} | CORS Headers Explained`}
  description={headerData.description}
>
  <Article data={headerData} />
</Layout>
